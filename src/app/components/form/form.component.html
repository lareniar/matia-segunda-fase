<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-field">
    <app-input
      formControlName="name"
      label="Name"
      placeholder="Enter your name"
    />
    @if (form.get('name')?.touched && form.get('name')?.errors) {
    <div class="error-message">{{ getErrorMessage("name") }}</div>
    }
  </div>

  <div class="form-field">
    <app-input
      formControlName="surname"
      label="Surname"
      placeholder="Enter your surname"
    />
    @if (form.get('surname')?.touched && form.get('surname')?.errors) {
    <div class="error-message">{{ getErrorMessage("surname") }}</div>
    }
  </div>

  <div class="form-field">
    <app-input
      formControlName="email"
      label="Email"
      placeholder="Enter your email"
    />
    @if (form.get('email')?.touched && form.get('email')?.errors) {
    <div class="error-message">{{ getErrorMessage("email") }}</div>
    }
  </div>

  <div class="form-field">
    <app-input
      formControlName="phone"
      label="Phone"
      placeholder="Enter your phone number"
    />
  </div>

  <div class="form-field">
    <app-select
      formControlName="country"
      label="Country"
      placeholder="Select a country"
      [options]="countries"
      (change)="onSelectedCountry($event)"
    />
    @if (form.get('country')?.touched && form.get('country')?.errors) {
    <div class="error-message">{{ getErrorMessage("country") }}</div>
    }
  </div>

  <div class="form-field">
    <app-select
      formControlName="state"
      label="State"
      placeholder="Select a state"
      [options]="states"
      [isLoading]="isLoadingStates"
    />
    @if (form.get('state')?.touched && form.get('state')?.errors) {
    <div class="error-message">{{ getErrorMessage("state") }}</div>
    }
  </div>

  <div class="buttons-container">
    <button id="add" [disabled]="form.invalid" type="submit">Add</button>
    <button id="clear" type="button" (click)="onClearFields()">Clear</button>
  </div>
</form>
